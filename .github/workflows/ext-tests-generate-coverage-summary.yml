name: Generate Coverage Summary
on:
  workflow_call:
    inputs:
      unit-tests-report:
        type: string
        required: true
      mutation-tests-report:
        type: string
        required: true
jobs:
  generate-coverage-summary:
    name: Coverage
    runs-on: ubuntu-latest
    steps:
      - name: Coverage
        run: |
          echo "Construção de relatório de testes unitários..."

          summaryUnitTests="| Unitário | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ |"

          echo "Construção de relatório de testes mutantes..."

          summaryMutationTests="| Unitário | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ |"

          # Summary constrution
          summaryHeader="| Tipo | Cobertura 🧐 | Sucesso 😎 | Falha 🥲 | Sem cobertura 😬 | Ignorado 😑 | Tempo de execução 🥱 | Cobertura mínima atingida 🫣 |"
          summaryAlign="|:--|--|--|--|--|--|--|:--|"

          # Summary export
          summary="${summaryHeader}\n${summaryAlign}\n${summaryUnitTests}\n${summaryMutationTests}"
          echo -e "${summary}" >> $GITHUB_STEP_SUMMARY
